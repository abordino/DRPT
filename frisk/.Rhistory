rm(list = ls())  # Clear environment
gc()             # Free memory
setwd("~/Documents/phd/projects/DRPT/code/simulationCpp/frisk")
library(latex2exp)
library(rootSolve)
library(DRPT)
set.seed(120720)
# Combine pictures
library(magick)
files = c("experiments/pictures/4d_combinedAppendix copy.png",
"experiments/pictures/binaryRvarying copy.png"
)
imgs = image_read(files)
# Draw (a)/(b)/(c)
label_draw = function(img, lab, x = 15, y = 35) {
info = image_info(img)
h = info$height
cex_val = max(1, h / 400)
img = image_draw(img)
par(mar = c(0,0,0,0), xpd = NA, family = "HersheySans")
# soft white box behind text
w  = strwidth(lab, cex = cex_val)
ht = strheight(lab, cex = cex_val)
rect(x - 6, y - 1.6*ht, x + 6 + 1.1*w, y + 6,
col = rgb(1,1,1,0.7), border = NA)
text(x, y, labels = lab, cex = cex_val, col = "black", adj = c(0, 1))
dev.off()
img
}
a = label_draw(imgs[1], "(a)")
b = label_draw(imgs[2], "(b)")
# Combine horizontally
combo = image_append(image_join(a, b), stack = FALSE)
image_write(combo, "experiments/pictures/combined_4.png")
